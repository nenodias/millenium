(function(window, $){
    var modais = '<div class="bootbox"></div>';
    var iconSuccess = 'fa fa-check';
    var iconCancel = 'fa fa-close';
    var bootbox = {
        setEvents:function(callback){
            $('.bootbox .modal a.is-success').on('click',function(e){
                if(callback){
                    callback(true);
                }
                $(document).find('.bootbox').remove();
            });
            $('.bootbox .modal-background, .bootbox .delete, .bootbox .close').on('click',function(e){
                if(callback){
                    callback(false);
                }
                $(document).find('.bootbox').remove();
            });
        },
        alert:function(msg){
            if($(document).find('.bootbox').length == 0){
                $(document).find('body').append('<div class="bootbox"></div>');
            }
            var html = '<div class="modal is-active"> <div class="modal-background"></div> <div class="modal-card"> <header class="modal-card-head"> <p class="modal-card-title">'+msg+'</p> <button class="delete"></button> </header> <footer class="modal-card-foot"> <a class="button is-success">Ok &nbsp;<i class="'+iconSuccess+'"></i> </a></div> </div>';
            $(document).find('body').append(modais);
            $(document).find('.bootbox').html(html);
            bootbox.setEvents(null);
        },
        confirm:function(question, callback){
            if($(document).find('.bootbox').length == 0){
                $(document).find('body').append('<div class="bootbox"></div>');
            }
            var html = '<div class="modal is-active"> <div class="modal-background"></div> <div class="modal-card"> <header class="modal-card-head"> <p class="modal-card-title">'+question+'</p> <button class="delete"></button> </header> <footer class="modal-card-foot"> <a class="button is-success">Sim &nbsp;<i class="'+iconSuccess+'"></i> </a> <a class="button close">Cancela &nbsp;<i class="'+iconCancel+'"></i> </a> </footer> </div> </div>';
            $(document).find('body').append(modais);
            $(document).find('.bootbox').html(html);
            bootbox.setEvents(callback);
        }
    };
    window.bootbox = bootbox;
})(window, $);
